1- Create a Self (name last name) in db
When user signs up, check if the (name last name) exists in the db. If not add it to the contacts table.

2- Persist Transactions for personal and group activities

Personal  Transaction Persist
In case of group with self checked, persist in self entry in personalTransaction and the rest in groupTransaction

3-  Display everything in transaction